import { useHead, useRequestEvent, useRuntimeConfig, useServerHead } from "#imports";
export function useSchemaOrg(input) {
  const _config = useRuntimeConfig();
  const config = import.meta.client ? _config.public["nuxt-schema-org"] : _config["nuxt-schema-org"] || _config.public["nuxt-schema-org"];
  const script = {
    type: "application/ld+json",
    key: "schema-org-graph",
    nodes: input,
    ...config?.scriptAttributes || {}
  };
  if (import.meta.server) {
    const event = useRequestEvent();
    if (typeof event?.context.robots !== "undefined" && !event.context.robots?.indexable) {
      return;
    }
    return useServerHead({
      script: [script]
    });
  } else {
    if (config?.reactive) {
      return useHead({
        script: [script]
      });
    }
  }
}
